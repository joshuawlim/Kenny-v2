# Kenny v2.0 Phase 3.5 Calendar Database + Real-time Sync Configuration
# 
# This file contains environment variables for Phase 3.5 features.
# Source this file or copy these variables to your shell environment.
#
# Usage:
#   source .env.phase35
#   ./kenny-launch.sh
#
# Or:
#   export $(cat .env.phase35 | grep -v '^#' | xargs)
#   ./kenny-launch.sh

# === Phase 3.5 Core Configuration ===

# Enable Phase 3.5 Calendar Database + Real-time Sync features
KENNY_PHASE35_ENABLED=true

# Calendar performance mode: phase35 (high-performance) or phase32 (compatibility)
KENNY_CALENDAR_PERFORMANCE_MODE=phase35

# EventKit permissions handling: auto, force, skip
KENNY_PHASE35_EVENTKIT_PERMISSIONS=auto

# Database configuration
KENNY_DATABASE_PATH="services/calendar-agent/calendar.db"
KENNY_PHASE35_DATABASE_PATH="services/calendar-agent/calendar.db"

# === Performance Configuration ===

# Database connection pool size (default: 10)
KENNY_DB_POOL_SIZE=10

# Database query timeout in seconds (default: 30)
KENNY_DB_TIMEOUT=30

# Database cache size in KB (default: 64MB = -64000)
KENNY_DB_CACHE_SIZE=-64000

# Database journal mode: WAL, DELETE, TRUNCATE, PERSIST, MEMORY, OFF
KENNY_DB_JOURNAL_MODE=WAL

# Database synchronous mode: OFF, NORMAL, FULL, EXTRA
KENNY_DB_SYNCHRONOUS=NORMAL

# Enable full-text search (default: true)
KENNY_DB_ENABLE_FTS=true

# === Sync Engine Configuration ===

# Real-time sync enabled (default: true)
KENNY_SYNC_ENABLED=true

# Sync polling interval in seconds (default: 1)
KENNY_SYNC_POLL_INTERVAL=1

# Maximum sync batch size (default: 100)
KENNY_SYNC_BATCH_SIZE=100

# Sync retry attempts (default: 3)
KENNY_SYNC_RETRY_ATTEMPTS=3

# Sync timeout in seconds (default: 30)
KENNY_SYNC_TIMEOUT=30

# === EventKit Integration Configuration ===

# EventKit change detection interval in seconds (default: 0.1)
KENNY_EVENTKIT_POLL_INTERVAL=0.1

# EventKit maximum events per fetch (default: 1000)
KENNY_EVENTKIT_MAX_EVENTS=1000

# EventKit date range for initial sync in days (default: 365)
KENNY_EVENTKIT_SYNC_RANGE_DAYS=365

# === Performance Monitoring Configuration ===

# Enable performance monitoring (default: true)
KENNY_PERFORMANCE_MONITORING=true

# Performance metrics collection interval in seconds (default: 5)
KENNY_METRICS_INTERVAL=5

# Maximum query time threshold in milliseconds (default: 10)
KENNY_QUERY_TIME_THRESHOLD=10

# === Logging Configuration ===

# Phase 3.5 log level: DEBUG, INFO, WARNING, ERROR
KENNY_PHASE35_LOG_LEVEL=INFO

# Enable database query logging (default: false)
KENNY_DB_QUERY_LOGGING=false

# Enable sync operation logging (default: true)
KENNY_SYNC_LOGGING=true

# === Fallback Configuration ===

# Automatic fallback to Phase 3.2 on errors (default: true)
KENNY_AUTO_FALLBACK=true

# Fallback retry delay in seconds (default: 5)
KENNY_FALLBACK_RETRY_DELAY=5

# Maximum fallback attempts (default: 3)
KENNY_FALLBACK_MAX_ATTEMPTS=3

# === Development and Testing Configuration ===

# Enable test mode (default: false)
KENNY_TEST_MODE=false

# Use mock EventKit for testing (default: false)
KENNY_MOCK_EVENTKIT=false

# Enable detailed debug output (default: false)
KENNY_DEBUG_MODE=false

# Database backup enabled (default: true)
KENNY_DB_BACKUP_ENABLED=true

# === Optimization Configuration ===

# Enable L1 cache (memory cache) (default: true)
KENNY_CACHE_L1_ENABLED=true

# Enable L2 cache (Redis cache) (default: false, requires Redis)
KENNY_CACHE_L2_ENABLED=false

# Enable L3 cache (file cache) (default: true)
KENNY_CACHE_L3_ENABLED=true

# Enable L4 cache (database cache) (default: true)
KENNY_CACHE_L4_ENABLED=true

# L1 cache size in MB (default: 50)
KENNY_CACHE_L1_SIZE=50

# L3 cache directory (default: ./cache)
KENNY_CACHE_L3_DIR="cache"

# === Security Configuration ===

# Enable database encryption (default: false, requires SQLCipher)
KENNY_DB_ENCRYPTION=false

# Database encryption key (if encryption enabled)
# KENNY_DB_ENCRYPTION_KEY="your-secret-key-here"

# === Integration Configuration ===

# Bridge mode for calendar data: live, cache, mock
KENNY_CALENDAR_BRIDGE_MODE=live

# Enable intelligent calendar agent features (default: true)
KENNY_INTELLIGENT_CALENDAR_AGENT=true

# LLM model for intelligent features (default: llama3.2:3b)
KENNY_CALENDAR_LLM_MODEL=llama3.2:3b

# === Export Statement ===
# Uncomment the following line to auto-export all variables when sourcing
# set -a