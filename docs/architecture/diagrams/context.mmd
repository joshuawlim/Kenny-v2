%% Mermaid system context (C4 Level 1) â€” Coordinator-led multi-agent

flowchart LR
  user["End User"]
  webui["Web Chat (Default)"]
  coordinator(("Coordinator (Local, LangGraph)"))
  agents["Service Agents (Mail, iMessage, WhatsApp, Calendar, Contacts, Memory, Web, Observability)"]
  ollama["Ollama (Local LLM/Embeddings :11434)"]
  bridge["macOS Bridge (Local HTTP :5100)"]
  wa["WhatsApp Web (Allowlisted)"]
  appleApps["Mail / Messages / Contacts / Calendar (macOS)"]

  user --> webui
  webui --> coordinator
  coordinator -->|invokes| agents
  coordinator -->|LLM calls| ollama
  agents -->|host APIs| bridge
  bridge <--> appleApps
  agents -->|read-only sync| wa
